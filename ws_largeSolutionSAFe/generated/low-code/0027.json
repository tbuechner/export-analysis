{
    "type": "custom_attribute",
    "code": "/**\n * Solution -> Solution Train Engineer [0..1]\n * Solution -> Solution Train Architect [0..1]\n * Solution -> Solution Management [0..1]\n * \n */\n\nconst SOLUTION = {\n    TYPE: 'cf.cplace.solution.safe.solution',\n    ATTR: {\n        ST_ENGINEER: 'cf.cplace.solution.safe.solutionTrainEngineer',\n        ST_ARCHITECT: 'cf.cplace.solution.safe.solutionTrainArchitect',\n        SOL_MANAGEMENT: 'cf.cplace.solution.safe.solutionManagement'\n    }\n}\n\nconst THUMBNAIL_SIZE = '60px';\n\n\n//find all relevant roles / responsibles\n\nlet solution = embeddingPage;\n\nlet users = [];\n\nlet ste = solution.get(SOLUTION.ATTR.ST_ENGINEER);\nlet sta = solution.get(SOLUTION.ATTR.ST_ARCHITECT);\nlet solMan = solution.get(SOLUTION.ATTR.SOL_MANAGEMENT);\n\n\nif (ste) {\n    addUser(ste, \"Solution Train Engineer\")\n}\nif (sta) {\n    addUser(sta, \"Solution Train Architect\")\n}\nif (solMan) {\n    addUser(solMan, \"Solution Management\")\n}\n\n//users.sort((user1, user2) => user1.name > user2.name ? 1 : -1);\n\n\nlet output = '';\n\n\nfor (let i = 0; i < users.length; i++) {\n  output += generateUserMarkupNew(users[i]);\n}\n\nreturn '<div style=\"display:flex;flex-flow:row wrap;\">' + output + '</div>';\n\n\nfunction addUser(member, title) {\n    users.push({\n        name: member.getName(),\n        id: member.getId().split('/').pop(),\n        url: member.getUrl(),\n        title: title\n    })\n}\n\nfunction getTenantName(page){\n let url=embeddingPage.getUrl().split('/pages/')[0];\n let tenantName= url.split('/')[3];\n  return tenantName;\n}\n\nfunction generateUserMarkup (user) {\n    return '<div style=\"margin:8px;text-align: center;\">'\n        + '<img class=\"cplace-person__image\" style=\"margin: 5px\" src=\"/person/downloadThumbnail?id=' + user.id + '\" width=\"' + THUMBNAIL_SIZE + '\" height=\"' + THUMBNAIL_SIZE + '\" title=\"' + user.name + '\"/>'\n        + '<div style=\"font-size: 9pt;margin:3px;\">' + user.name + '</div>'\n        + '<div style=\"font-size: 8pt;margin:3px;\">' + user.title + '</div>'\n      + '</div>';\n  }\n\n//<img class=\"custom-profile-image\" src='+ tenantUrl +'person/downloadThumbnail?id=' + userHref + '>'\n\nfunction generateUserMarkupNew (user) {\n    return '<div style=\"margin:8px;text-align: center;\">'\n        + '<img class=\"cplace-person__image\" style=\"margin: 5px;height:60px;width:60px\" src=\"/'+getTenantName(embeddingPage)+'/person/downloadThumbnail?id=' + user.id + '\" width=\"' + THUMBNAIL_SIZE + '\" height=\"' + THUMBNAIL_SIZE + '\" title=\"' + user.name + '\"/>'\n        + '<div style=\"font-size: 10pt;margin:3px;\">' + user.name + '</div>'\n        + '<div style=\"font-size: 9pt;margin:3px;\">' + user.title + '</div>'\n      + '</div>';\n  }",
    "attributes": null,
    "type_name": null,
    "counter": 27
}