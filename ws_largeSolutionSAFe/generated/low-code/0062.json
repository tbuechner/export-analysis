{
    "type": "custom_attribute",
    "code": "/**\n * HIGHCHART\n * @customType cf.cplace.solution.safe.currentPiDashboard\n * @layout default layout\n * @author Christopher W\u00f6lfle <christopher.woelfle@cplace.com>\n * @version 1.0\n * @description Displays the confidence vote of a single PI which is passed in via search results as as bar chart\n */\n\nconst CONFIDENCE_VOTE = /** @type {const} */ ({\n    TYPE: \"cf.cplace.solution.safe.confidenceVote\",\n    ATTR: {\n        PROGRAMM_INCREMENT: \"cf.cplace.solution.safe.confidenceVote.PI\",\n        RESULT: \"cf.cplace.solution.safe.confidenceVote.result\",\n        ONE_FINGER: \"cf.cplace.solution.safe.confidenceVote.oneFinger\",\n        TWO_FINGERS: \"cf.cplace.solution.safe.confidenceVote.twoFingers\",\n        THREE_FINGERS: \"cf.cplace.solution.safe.confidenceVote.threeFingers\",\n        FOUR_FINGERS: \"cf.cplace.solution.safe.confidenceVote.fourFingers\",\n        FIVE_FINGERS: \"cf.cplace.solution.safe.confidenceVote.fiveFingers\",\n    },\n});\n\nconst red = \"#FF0000\";\nconst orange = \"#FFA500\";\nconst yellow = \"#FFFF00\";\nconst lightgreen = \"#9ACD32\";\nconst green = \"#008000\";\n\nfunction main() {\n    // @ts-ignore\n    const confidenceVote = Iterables.getFirst(pages, null);\n\n    if (!confidenceVote) {\n        return;\n    }\n\n    const oneFinger = confidenceVote.get(CONFIDENCE_VOTE.ATTR.ONE_FINGER);\n    const twoFingers = confidenceVote.get(CONFIDENCE_VOTE.ATTR.TWO_FINGERS);\n    const threeFingers = confidenceVote.get(CONFIDENCE_VOTE.ATTR.THREE_FINGERS);\n    const fourFingers = confidenceVote.get(CONFIDENCE_VOTE.ATTR.FOUR_FINGERS);\n    const fiveFingers = confidenceVote.get(CONFIDENCE_VOTE.ATTR.FIVE_FINGERS);\n    const totalFingers = oneFinger + 2 * twoFingers + 3 * threeFingers + 4 * fourFingers + 5 * fiveFingers;\n    const numberOfConvidenceVotes = oneFinger + twoFingers + threeFingers + fourFingers + fiveFingers;\n\n    const averageConfidenceVote = totalFingers / numberOfConvidenceVotes;\n\n    // Create the chart\n    const config = {\n        chart: {\n            type: \"pie\",\n        },\n        title: {\n            text: averageConfidenceVote.toFixed(1),\n            align: \"center\",\n            verticalAlign: \"middle\",\n            margin: 0,\n            useHtml: true,\n            style: {\n                fontSize: \"3vw\",\n                margin: 0,\n                padding: 0,\n                fontWeight: \"bold\",\n                lineHeight: 1,\n            },\n        },\n        subtitle: {\n            text: \"Average\",\n            align: \"center\",\n            verticalAlign: \"middle\",\n            y: -30,\n            style: {\n                fontWeight: \"normal\",\n                fontSize: \"1vw\",\n            },\n        },\n        legend: {\n            enabled: false,\n            layout: \"horizontal\",\n            align: \"center\",\n            verticalAlign: \"bottom\",\n            itemStyle: {\n                fontWeight: \"normal\",\n            },\n        },\n        plotOptions: {\n            pie: {\n                borderWidth: 10,\n                cursor: \"pointer\",\n                dataLabels: {\n                    enabled: false,\n                },\n                colors: [red, orange, yellow, lightgreen, green],\n            },\n        },\n        series: [\n            {\n                name: \"Count\",\n                cursor: \"pointer\",\n                innerSize: \"70%\",\n                data: [\n                    { name: \"One Finger\", y: oneFinger },\n                    { name: \"Two Fingers\", y: twoFingers },\n                    { name: \"Three Fingers\", y: threeFingers },\n                    { name: \"Four Fingers\", y: fourFingers },\n                    { name: \"Five Fingers\", y: fiveFingers },\n                ],\n            },\n        ],\n    };\n    return config;\n}\n\n// @ts-ignore\nreturn main();",
    "attributes": null,
    "type_name": null,
    "counter": 62
}